<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Student Registration Form</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="test.css">
        <style>.hid{display: none;
        }
        #sm1, #sm3,#sm2,#sm, #smd{
            color: red;
            font-size: 12px;

        }
            </style>
    </head>
    <body>
        
        <form class="form" onsubmit="return vali()">
            <fieldset>
            <legend>Personal Information</legend>
                <div class="diva">
                    <div class="subdiv">
                        <label for="first name">First Name*</label>
                    </div>
                
                    <div class="subdiv">
                        <input type="text" id="fn" required placeholder="First name"/>
                        <div > <p id="sm"> </p></div>
                    </div>
                </div>
                <div class="diva">
                    <div class="subdiv">
                        <label for="last name">Last name:*</label>
                    </div>
                    <div class="subdiv">
                        <input type="text" id="fnn" required  placeholder="Last name">
                        <div > <p id="sm2"> </p></div>
                    </div>
                </div>
                <div class="diva">
                    <div class="subdiv">
                        <label for="email"> Email: </label>
                    </div>
                    <div class="subdiv">
                
                        <input type="email" placeholder="name@mail.com"/>
                    </div>
                </div>
                <div class="diva">
                    <div class="subdiv">
                        <label for="phone number">Phone Number:*</label>
                    </div>
                    <div class="subdiv">
                        <input type="text" id="phone" required placeholder="0123456789" maxlength="10"/>
                        <div id="sm3"></div>
                    </div>
                </div>
                <div class="diva">
                    <div class="subdiv">
                        <label for="Date of birth">Date of Birth: </label>
                    </div>
                    <div class="subdiv">
                        <input type="date" id="d" />
                        <div id="smd"></div>
                    </div>
                </div>
                <div class="diva">
                    <div class="subdiv">
                        <label for="Gender">Gender</label>
                    </div>
                    <div class="subdiv">
                        <input type="radio" name="Gender" > Male 
                        <input type="radio" name="Gender" > Female 
                        <input type="radio" name="Gender"> Other
                    </div>
                </div>
           </fieldset>
           <fieldset>
            <legend>Address Information</legend>
                <div class="diva">
                    <div class="subdiv">
                        <label for="Street address">Street address:</label>
                    </div>
                    <div class="subdiv">
                        <input type="text" min="2" />
                    </div>
                    <div class="subdiv">
                        <label for="city">City</label>
                    </div>
                    <div class="subdiv">
                        <input type="text" >
                    </div>
                    <div class="subdiv">
                        <label for="state">State:</label>
                    </div>
                    <div class="subdiv">
                        <select>
                        <option value="Gandhinagar" selected> Gandhinagar</option>
                        <option value="mumbai">Mumbai</option>
                        </select>
                    </div>
                    <div class="subdiv">
                        <label for="post">Post-code</label>
                    </div>
                    <div class="subdiv">
                        <input type="text"  id="post">
                        <div id="smpost"></div>
                    </div>
                    <div class="subdiv">
                        <label for="country">Country</label>
                    </div>
                    <div class="subdiv">
                        <select>
                        <option value="India">India</option>
                        <option value="U.S">U.S</option>
                        </select>
                    </div>
                </div>
         </fieldset>
        <fieldset>
            
            <legend>Acedemic INformation</legend>
                <div class="diva">
                    <div class="subdiv">
                        <label for="Student ID" >Student ID*</label>
                    </div>
                    <div class="subdiv">
                        <input type="text" required name="ID" id="stud">
                        <div id="sm1"></div>
                    </div>
                    <div class="subdiv">
                        <label for="Program">Program/Course</label>
                    </div>
                    <div class="subdiv">
                        <select>
                        <option value="python">Python</option>
                        <option value="Java">Java</option>
                        </select>
                    </div>
                    <div class="subdiv">
                        <label for="Year of study">Year of Study</label>
                    </div>
                    <div class="subdiv">
                        <input type="text" >
                    </div>
                    <div class="subdiv">
                        <label for="CGPA">CGPA:</label>
                    </div>
                    <div class="subdiv">
                        <input type="number" min="0" max="4" step="0.01"/>
                    </div>
                    <div class="subdiv">
                        <label for="Previous education">Previous education</label>
                    </div>
                    <div class="subdiv">
                        <textarea rows="5" cols="35" placeholder="Previous Education"></textarea>
                    </div>
                </div>
         </fieldset>
            <fieldset>
            
            <legend>Additional Information</legend>
            <div class="diva">
                <div class="subdiv">
                    <label for="profile picture">Profile picture</label>
                </div>
                <div class="subdiv">
                    <input type="file" id="img" src="" height="100" accept="image/*"/>
                    <img src="" id="preview" height="100" />
                    <!-- <div id="preview" height="200" src=""></div> -->
                </div>
                <div class="subdiv">
                    <label for="Emergency Contact Name">Emergency Contact Name</label>
                </div>
                <div class="subdiv">
                    <input type="text" value="emergency name">
                </div>
                <div class="subdiv">
                    <label for="Emergency contact number">Emergency Contact Number</label>
                </div>
                <div class="subdiv">
                    <input type="text" maxlength="10" placeholder="0123456789">
            </div>
            </fieldset>
            <fieldset>
                <div class="subdiv">
                    <label for="Special requirement">Special Requirement:</label>
                </div>
                <div class="diva three">
                    <div class="subdiv">
                        <input type="checkbox" name="Whilchair">Wheelchair Access
                    </div>
                    <div class="subdiv">
                        <input type="checkbox" name="Dietary Restrictions">Dietary Restrictions
                    </div>
                    <div class="subdiv">
                        <input type="checkbox" id="che" name="Learning Support"> Learning Support
                        <div id="hide" class="hid">
                            <lable>Please Desribe the support</lable>
                            <textarea rows="5" cols="30"></textarea>
                        </div>
                    </div>
                </div>
                <div class="diva two">
                    <div class="subdiv">
                        <input type="checkbox" name="support"> Subscribe our Newsletter 
                    </div>
                    <div class="subdiv">
                        <input type="checkbox" name="term">Accept our terms and Condition
                    </div>
                </div>
            </fieldset>

            <div class="button">
                <!-- <div class="subdiv"> -->
                    <input type="submit">
                <!-- </div>
                <div class="subdiv"> -->

                    <input type="reset" id="reset">
                <!-- </div> -->
            </div>




            
            
        </form>
        <script>
            // return false;
            function vali(){
                
                let pat = /^[A-Za-z]{2,}$/;
                let pat2 = /^[0-9]{10}$/;
                let pat3 = /^STU\d{4}$/;
                let pat4 = /^[A-Z]{2,}$/;

                let out = document.getElementById("fn").value;
                let outt = document.getElementById("fnn").value;
                let phone = document.getElementById("phone").value;
                let stud = document.getElementById("stud").value;
                let da = document.getElementById("d").value;
                let today = new Date();
                today.setHours(0,0,0,0);
                let da1 = new Date(da);
                da1.setHours(0,0,0,0);
                let err = false;

                if (!pat4.test(out)){
                    (document.getElementById("sm").innerHTML="First name shold be capital");
                    err = true;
                }
            
                 

                else if (!pat.test(outt)){
                    (document.getElementById("sm2").innerHTML="Last name shold be only letter");
                    err = true;
            
                } 
                
                if (!pat2.test(phone)){
                    (document.getElementById("sm3").innerHTML="Phone Number shold be Digit");
                    err = true;
            
                } 

                if (!pat3.test(stud)){
                    (document.getElementById("sm1").innerHTML="Student Id STU1234");
                    err = true;
            
                } 

                if (da1 >= today){
                    (document.getElementById("smd").innerHTML="Date sholud be past date");
                    err = true;
                }

                if (err){
                    return false;
                }

                else {
                    alert("Form Submitted Succesfully!" + out);
                    return true;
                    
                }

            
            
            


        }
    

    

            let t = document.getElementById("fn");

            t.addEventListener("input",function(){
                let p = /^[A-Z]+$/;
            
                if (p.test(t.value)){
                    t.style.color="green";
                    sm.textContent="";

                } else {
                    t.style.color="red";
                    sm.textContent="First name should be in upper case";
                }
            });

            let aa = document.getElementById("fnn");

            aa.addEventListener("input",function(){
                let p = /^[A-Za-z]+$/;
            
                if (p.test(aa.value)){
                    aa.style.color="green";
                    sm2.textContent="";

                } else {
                    aa.style.color="red";
                    sm2.textContent="Last name should be in upper and Lower case";
                }
            });

            let ab = document.getElementById("phone");

            ab.addEventListener("input",function(){
                let p = /^[0-9]+$/;
            
                if (p.test(ab.value)){
                    ab.style.color="green";
                    sm3.textContent="";

                } else {
                    ab.style.color="red";
                    sm3.textContent="Phone Number should be in Digit";
                }
            });

            let ac = document.getElementById("stud");

            ac.addEventListener("input",function(){
                let p = /^STU\d{4}$/;
            
                if (p.test(ac.value)){
                    ac.style.color="green";
                    sm1.textContent="";

                } else {
                    ac.style.color="red";
                    sm1.textContent="Student Id must be STU1234 format";
                }
            });

            let h = document.getElementById("hide");
            let i = document.getElementById("che");

            i.addEventListener("change",function(){
                if (i.checked){
                    h.classList.remove("hid");
                }
                else{
                    h.classList.add("hid");
                }

            });

            let imginput = document.querySelector("#img");
            let pre = document.querySelector("#preview");

            imginput.addEventListener("change",previewfile);

            function previewfile(){
                const file = imginput.files[0];
                const r = new FileReader();

                r.addEventListener("load",()=>{
                    pre.src = r.result;

                });

                if (file){
                    r.readAsDataURL(file);
                }
            }

            let re = document.getElementById("reset");

            re.addEventListener("click",function(){
                sm.textContent="";
                preview.src = "";

            });
                

            
        </script>
           
        
    </body>
</html>