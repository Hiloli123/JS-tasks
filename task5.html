<!-- Task 5: Shopping Cart Calculator
Problem: Create a shopping cart system that calculates total price with discounts and tax.
Requirements:
Apply 10% discount if total > 10000
Apply 8% tax on final amount
Round to 2 decimal places
Example Input:
[
    {name: "Laptop", price: 80000, quantity: 1},
    {name: "Mouse", price: 2500, quantity: 2}
] -->

<!DOCTYPE html>
<head>
    <style>
        
        #form{
            display: flex;
            flex-direction: column;
            justify-self: center;

            border: 5px solid darkgreen;
            width: 400px;
            padding: 20px;
            background-color: rgb(38, 197, 38);
            color: white;
            font-size: 20px;
            margin-top: 20px;

        }
        button{
            font-size: 20px;
            background-color: blue;
            color: aliceblue;
            padding: 10px 15px;
            border-radius: 10px;
        }
        #result{
            display: flex;
            flex-direction: column;
            justify-self: center;
            border: 2px solid orange;
            background-color: rgb(136, 219, 219);
            
            font-weight: 300;
            font-size: 24px;
        }
        #result2{
            display: flex;
            flex-direction: column;
            justify-self: center;
            border: 2px solid rgb(59, 45, 160);
            background-color: rgb(239, 144, 144);
            margin-top: 20px;
            font-weight: 200;
        }
        table{
            
            
            width: 100%;
        }
        #tab{
            display: flex;
            flex-direction: column;
            justify-self: center;
            width: 400px;
            border: 2px solid black;
        }
        td {
            text-align: center;
            border: 1px solid black;
            
        }


    
    </style>

</head>
<body>
    <div id="result"></div>
    <div id="result2"></div>
    <div id="form">
    <form onsubmit="cal(event)">
        <label>Select the Product:</label>
        <select id = "product">
            <option value="Mobile">Mobile</option>
            <option value="Laptop">Laptop</option>
            <option value="keyboard">keyboard</option>
            <option value="Mouse">Mouse</option>
        </select> <br><br>
        <lable>Enter the amount:</lable>
        <input type="text" id="price" placeholder="amount"  required/> <br><br>
        <label>Quantity:</label>
        <input type="number" id="quantity"  min="1"/> <br><br>
        

        <button  type="submit">Calculate Amount</button>
        
    </form>
        
    </div>
    <div id="tab">
        <table id="table"></table>
        <table id="table2"></table>
        <table id="table3"></table>
        <table id="table4"></table>
    </div>
    <script>
            let a = [];
            let x =[];
            
            function cal(event){
                event.preventDefault()
                
                let name = document.getElementById("product").value;
                let que = document.getElementById("quantity").value;
                let pri = document.getElementById("price").value;

                let item = {
                    product : name,
                    quen : Number(que),
                    pric : Number(pri)
                };

                a.push(item);
                renderTable();
                total();
                finaltable();
                finaltable2();
                finaltable3();
                
            }

            function total(){
                let c = [];
                
                
                for (let i =0; i<a.length; i++){
                     let b = (a[i].pric*a[i].quen);
                    c.push(b);
                    
                }

                function sum(){
                    let d = 0;
                    for (let e = 0; e < arguments.length; e++){
                        d += arguments[e]  ;
                    }
                    return d;
                }
                let amount = sum(...c);
                let final;
                if (amount > 10000){
                    final = amount - (amount/10);
                }
                else{
                    final = amount;

                }
                let total = final + (final*(0.08));
                let pay = total.toFixed(2);
                let item2 = {Amount : amount,
                            tax : total,
                            dis : final

                };
                x.push(item2);
                         
                
                

                
                document.getElementById("result2").innerHTML = "Item inside cart is:" + JSON.stringify(a,null,2);
                document.getElementById("result").innerHTML = "Tatal payable amount is:" + pay;
                
                
            }

            function renderTable() {
    
                let h = `<tr>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Amount</th>
                    </tr>`;


                for (let i = 0; i < a.length; i++) {
                    let u = a[i];
                h += `<tr>
                        <td>${u.product}</td>
                        <td>${u.quen}</td>
                        <td>${u.pric}</td>
                        <td>${u.pric * u.quen}</td>
                    </tr>`;
                }
                

            document.getElementById("table").innerHTML = h;
        }

            function finaltable() {
    
                let k = `<tc>
                            <td>Total</td>
                          
                    </tc>`;


                for (let y=0; y < (x.length); y++) {
                    let z = x[y];
                j = `<tc>
                        
                        <td>${z.Amount}</td>
                        
                                            
                     </tc>`;
                }
                

            document.getElementById("table2").innerHTML = k + j ;
            }   

            function finaltable2() {
    
                let k = `<tc>
                            <td >Price After Discount</td>
                    </tc>`;


                for (let y=0; y < (x.length); y++) {
                    let z = x[y];
                j = `<tc>
                         <td>${z.dis}</td>                    
                     </tc>`;
                }
                

            document.getElementById("table3").innerHTML = k + j ;
            }   

            function finaltable3() {
    
                let k = `<tc>
                            <td >Price After tax</td>
                          
                    </tc>`;


                for (let y=0; y < (x.length); y++) {
                    let z = x[y];
                j = `<tc>
                        
                        <td>${z.tax}</td>
                                       
                     </tc>`;
                }
                

            document.getElementById("table4").innerHTML = k + j ;
            }   
        

            
        
    </script>
</body>

<!-- <td>${z.Amount}</td>
                        <td>${z.tax}</td>

                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Amount</th> -->